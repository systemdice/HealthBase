<div class="form-row">
    <div class="form-group col-md-3" style="float:left">
      <h3>Commission&nbsp;Details: </h3>
      
    </div>
    <div class="form-group col-md-2" style="float:left;">
      <label for="FollowupStartDate" class="control-label">Referrer/Doctor&nbsp;Name</label>
            <!-- <mat-label>Referrer/Doctor Name</mat-label> -->
            <select name="BusinessType" [(ngModel)]="DoctorName" (change)="referralChangeAction($event.target)" class="form-control">
              <option *ngFor="let option of referralMaster" [value]="option.FirstName">
                {{option.FirstName}}</option>
              </select>
        <!-- <mat-form-field fxFlex>
          <label for="FollowupStartDate" class="control-label">Referrer/Doctor&nbsp;Name</label>
             <mat-label>Referrer/Doctor Name</mat-label> 
            <select name="BusinessType" [(ngModel)]="DoctorName" (selectionChange)="referralChangeAction($event)" class="form-control">
              <option value="2018">2018</option>
              <option value="2019">2019</option>
              <option value="2020">2020</option>
              </select>
            <mat-select [(ngModel)]="DoctorName" (selectionChange)="referralChangeAction($event)">
              <mat-option>--</mat-option>
              <mat-option *ngFor="let option of referralMaster" [value]="option.FirstName">
                {{option.FirstName}}
              </mat-option>
            </mat-select>
          </mat-form-field> -->
     
  
    </div>
    <div class="form-group col-md-1">
      <label for="FollowupStartDate" class="control-label">Month</label>
      <select name="BusinessType" #BusinessType="ngModel" [(ngModel)]="month" class="form-control" aria-placeholder="Month">
          <option value="1">1(Jan)</option>
          <option value="2">2(Feb)</option>
          <option value="3">3(Mar)</option>
          <option value="4">4(Apr)</option>
          <option value="5">5(May)</option>
          <option value="6">6(June)</option>
          <option value="7">7(July)</option>
          <option value="8">8(Aug)</option>
          <option value="9">9(Sept)</option>
          <option value="10">10(Oct)</option>
          <option value="11">11(Nov)</option>
          <option value="12">12(Dec)</option>
     
      </select>
  </div>
  <div class="form-group col-md-1">
    <label for="FollowupStartDate" class="control-label">Year</label>
      <select name="BusinessType" #BusinessType="ngModel" [(ngModel)]="year" class="form-control">
          <option value="2018">2018</option>
          <option value="2019">2019</option>
          <option value="2020">2020</option>
          <option value="2021">2021</option>
          <option value="2022">2022</option>
          <option value="2023">2023</option>
          <option value="2024">2024</option>
          <option value="2025">2025</option>
          <option value="2026">2026</option>
          <option value="2027">2027</option>
          <option value="2028">2028</option>
      
      </select>
  </div>
  <div class="form-group col-md-4" style="padding-top: 20px;">
 
   
           <button type="button" (click)="AllCommissionDoctorMonthYear(month,year)" class="btn btn-success"><span
            class="glyphicon glyphicon-edit"></span>
              Doctor/Month/Year wise Commission</button>

              <button type="button" (click)="AllCommissionMonthYear(month,year)" class="btn btn-success"><span
                class="glyphicon glyphicon-edit"></span>
                  Month/Year wise Commission</button>
 
     
  </div>
  
    
    
  </div>
  <div class="form-row">
    <div class="form-group col-md-3" style="float:left"></div>
    <div class="form-group col-md-4" style="float:left">
        
      <button type="button" (click)="saveLabTest()" class="btn btn-success"><span class="glyphicon glyphicon-edit"></span>
        Show All Commission</button>&nbsp;
      <button type="button" (click)="ShowTodaysData()" class="btn btn-success"><span
          class="glyphicon glyphicon-edit"></span>
        Today's Commissions</button>
  
    </div>
    <div class="form-group col-md-5" style="float:left">
      <mat-form-field>
  
        <input matInput readonly [matDatepicker]="FollowupStartDate" placeholder="Commission Search Date"
        [(ngModel)]="passdate"
            readonly>
        <mat-datepicker-toggle matSuffix [for]="FollowupStartDate"></mat-datepicker-toggle>
        <mat-datepicker #FollowupStartDate></mat-datepicker>
    </mat-form-field>
    <button type="button" (click)="ShowTodaysDataFromCalendar(passdate)" class="btn btn-success"><span
      class="glyphicon glyphicon-edit"></span>
    Commission on a Date</button>
    </div>
  </div>
  <!-- <input type="text" name="UserName" class="form-control"  (keyup)="applyFilter($event.target.value)"
        [(ngModel)]="UserName" placeholder="Username" (input)="applyFilter($event.target.value)">
     Filter: {{UserName}} -->
  <hr style="padding:0px;margin:1px;" />
  <div class="example-header">
  
  
    <div class="example-container mat-elevation-z8">
  
      <!-- <button mat-button (click)=(click)="openDialog('Add',{},element.UnqueID,'Add')" mat-flat-button color="primary">Add Row</button> -->
  
      <mat-table [dataSource]="dataSource" matSort #mytable class="my-table mat-elevation-z8"
        style="background-color:#FFFFFF;border-radius: 2em; border:2px #6D7B8D; padding:5px;width:99%;
        table-layout:fixed;">
  
        <ng-container matColumnDef="slno">
          <mat-header-cell *matHeaderCellDef class="HeaderStyle"> Slno. </mat-header-cell>
          <mat-cell *matCellDef="let item; let i = index">  <span  class="mobile-label ">SlNo:</span>
            {{ (paginatorRef.pageIndex * paginatorRef.pageSize) + (i + 1) }} </mat-cell>
          
         </ng-container>
  
  
        <!-- Id Column -->
        <!-- <ng-container matColumnDef="UnqueID">
          <mat-header-cell *matHeaderCellDef mat-sort-header class="HeaderStyle"> Case ID </mat-header-cell>
          <mat-cell *matCellDef="let element">
            <u style="cursor:pointer;color:blue" (click)="addEditExpenseItem(element,element.Home.FirstName)">
              {{element.UnqueID}} </u> (<span style="color:red">{{element.CaseStatus.charAt(0)}}</span>)
          </mat-cell>
        </ng-container> -->
  
        <!-- <ng-container matColumnDef="PatientID">
                  <mat-header-cell *matHeaderCellDef  mat-sort-header class="HeaderStyle"> PatientID </mat-header-cell>
                  <mat-cell *matCellDef="let element"> {{element.PatientID}} </mat-cell>
                </ng-container> -->
                <ng-container matColumnDef="CaseID">
                  <mat-header-cell *matHeaderCellDef mat-sort-header class="HeaderStyle"> Case ID </mat-header-cell>
                  <mat-cell *matCellDef="let element"><span  class="mobile-label ">Case ID:</span>
                    <u style="cursor:pointer;color:blue" (click)="addEditExpenseItem(element,element.Home.FirstName)">
                      {{element.IPDOPDId}} </u> 
                  </mat-cell>
                </ng-container>
  
                <!-- <ng-container matColumnDef="CaseID">
                  <mat-header-cell *matHeaderCellDef mat-sort-header class="HeaderStyle"> CaseID </mat-header-cell>
                  <mat-cell *matCellDef="let element"> {{element.IPDOPDId}} </mat-cell>
                </ng-container> -->
        <!-- Id Column -->
        <ng-container matColumnDef="DateStart">
          <mat-header-cell *matHeaderCellDef mat-sort-header class="HeaderStyle"> Date </mat-header-cell>
          <mat-cell *matCellDef="let element"> <span  class="mobile-label ">Date:</span>{{element.DateStart}} </mat-cell>
        </ng-container>
  
        <ng-container matColumnDef="CaseCharge">
            <mat-header-cell *matHeaderCellDef class="HeaderStyle"> Total Bill(&#8377;) </mat-header-cell>
            <mat-cell *matCellDef="let element; let i = index"><span  class="mobile-label ">Total:</span>
             {{element.PaymentHistory[0].Amount}}
                </mat-cell>
    
          </ng-container>
  
                <ng-container matColumnDef="DoctorName">
                    <mat-header-cell *matHeaderCellDef class="HeaderStyle"> Doctor Name </mat-header-cell>
                    <mat-cell *matCellDef="let element; let i = index"> <span  class="mobile-label ">Name:</span>
                        <span class="glyphicon glyphicon-user" style="color:rgb(103, 179, 52)"></span>{{element.TestNameWithCase.RefferDoctorName}}
                       
                      </mat-cell>
            
                  </ng-container>
                 
                  
                  <ng-container matColumnDef="Commission">
                    <mat-header-cell *matHeaderCellDef class="HeaderStyle"> Commission(%) </mat-header-cell>
                    <mat-cell *matCellDef="let element; let i = index"> <span  class="mobile-label ">Commission(%):</span>
                        {{element.TestNameWithCase.RefferDoctorCommission}}
                      </mat-cell>
            
                  </ng-container>
                  <ng-container matColumnDef="ComissionAmount">
                    <mat-header-cell *matHeaderCellDef class="HeaderStyle"> Commission Amount(&#8377;) </mat-header-cell>
                    <mat-cell *matCellDef="let element; let i = index"><span  class="mobile-label ">Amount:</span>
                        &#8377;.{{CommissionAmount(element.PaymentHistory[0].Amount,element.TestNameWithCase.RefferDoctorCommission)}}
                      </mat-cell>
            
                  </ng-container>
       
  
       
  
        
  
        <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
        <mat-row *matRowDef="let row; columns: displayedColumns;" class="table-row"></mat-row>
      </mat-table>
      <div class="row">
        <div class="form-group col-md-3" style="float:right"></div>
        <div class="form-group col-md-2" style="float:right"></div>
        <div class="form-group col-md-1" style="float:left"></div>
        <div class="form-group col-md-3" style="float:right;text-align:right;font-size: medium;">Total Commission: </div>
        <div class="form-group col-md-3" style="float:left;font-size: medium;color:rgb(3, 49, 51)">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#8377;.{{totalCommsiionBasedOnFilter}}</div>
        </div>
      <mat-paginator #paginatorRef [pageSizeOptions]="[15, 20, 50, 100]"></mat-paginator>
      <!-- <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator> -->
  
    </div>
  </div>
  
  <!-- {{asyncPi|json}}
      --------------------------------
  
      {{asyncPipeNewModifyCase|json}} -->
  
  <!-- {{labTestIndividual|json}}
      -----------------------------------------------
      {{asyncPi|json}} -->