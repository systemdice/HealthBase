

<!-- {{referralMaster|json}} -->
<form [formGroup]="addrFrom" >

  <div class="row">
    <div class="form-group col-xs-12">
      <div class="panel panel-info">
        <div class="panel-body" *ngIf="PatientComponent">
          <app-pataient-detail-main #child [home]="addrFrom.get('home')"></app-pataient-detail-main>
  
        </div>
      </div>
    </div>
  </div>
 
  <ng-container *ngIf="isHidden">
  
  
    <div class="row">
      <div class="form-group col-xs-12">
  
        <div class="panel panel-info">
          <div class="panel-heading">Fill the Event/Activity details:</div>
          <div class="panel-body">
  
            <div fxLayout="column">
              <mat-divider class="gapDevider"></mat-divider>
  
              <div fxLayout="column">
                <div class="row">
                  <div class="col-md-3 col-sm-3">
                    <app-color-picker  ></app-color-picker>
                  </div>
                  <div class="col-md-3 col-sm-3">
                    <mat-form-field>
                      <mat-label>Title</mat-label>
                      <input matInput placeholder="Title">
                    </mat-form-field>
                  </div>
                  <div class="col-md-2 col-sm-2">
                    <mat-form-field>
                      <mat-label>Start Date Time</mat-label>
                      <input matInput placeholder="Start Date Time" >
                    </mat-form-field>
                  </div>
                  <div class="col-md-2 col-sm-2">
                    <mat-form-field>
                      <mat-label>End Date Time</mat-label>
                      <input matInput placeholder="End Date Time" >
                    </mat-form-field>
                  </div>
                  <div class="col-md-2 col-sm-2" style="padding-top:10px;">
  
                    <button class="btn btn-success"><span class="glyphicon glyphicon-off"></span> Save</button>
  
                    <button  class="btn btn-success" (click)="closeEventSetting()"><span
                        class="glyphicon glyphicon-off"></span> Close</button>
  
  
  
                  </div>
                </div>
              </div>
            </div>
  
  
  
  
  
  
          </div>
        </div>
      </div>
    </div>
  </ng-container>
  <div class="row">
    <div class=" col-md-5 col-sm-5  col-xs-5">
      <div class="panel panel-info">
        <div class="panel-heading">Doctor's Details &nbsp;
          
          <a [routerLink]="['/ReffersDetails']" style="color:black">
            <span class="glyphicon glyphicon-plus" style="color:red;font-weight:bold;cursor:pointer ;" aria-hidden="true"></span>
            &nbsp;<u>Add a Doctor</u></a>
        </div>
        <div class="panel-body row">
          <div class="row">
            <div class="col-md-8 col-sm-8">
              <mat-form-field>
                <mat-label>Find Doctor</mat-label>
                <!-- <mat-select formControlName="CollectionCenter">
                  <mat-option>--</mat-option>
                  <mat-option *ngFor="let city of cities" value="{{city}}">{{city}}</mat-option>
                </mat-select> -->

                <mat-select placeholder="Select your doctor" formControlName="doctorname"
                  (selectionChange)="referralChangeAction()">
                  <mat-option>-Select a doctor-</mat-option>
                  <mat-option *ngFor="let option of referralMaster" [value]="option.FirstName">
                    {{option.FirstName}}
                  </mat-option>
                  <mat-error *ngIf="addrFrom.get('doctorname').hasError('required') && addrFrom.get('doctorname').pristine">
                    Select a doctor
          </mat-error>
                </mat-select>

               
              </mat-form-field>
            </div>

            <div class="col-md-4 col-sm-4">
              <mat-form-field>
                <input matInput type="text" formControlName="ContactNumber" placeholder="Mobile">
              </mat-form-field>
            </div>
            

          </div>

          <div class="row">
            <div class="col-md-4 col-sm-4">
              <mat-form-field>
                <input matInput type="text" formControlName="department" placeholder="Department">
              </mat-form-field>


            </div>
            <div class="col-md-4 col-sm-4">

              <mat-form-field>
                <input matInput type="text" placeholder="Fees" formControlName="fees">
              </mat-form-field>
            </div>
            <div class="col-md-2 col-sm-2">

              <mat-form-field>
                <input matInput type="text" placeholder="Discount" formControlName="discount">
              </mat-form-field>
            </div>
            <div class="col-md-2 col-sm-2">

              <mat-form-field>
                <input matInput type="text" placeholder="Commission" formControlName="Commission">
              </mat-form-field>
            </div>

          </div>

          <div class="row">
            <div class="col-md-4 col-sm-4">
              <mat-form-field>
                <input matInput type="text" formControlName="hospitalname" placeholder="Hospital Name">
              </mat-form-field>


            </div>
            <div class="col-md-4 col-sm-4">

              <mat-form-field>
                <input matInput type="text" placeholder="counternumber" formControlName="counternumber">
              </mat-form-field>
            </div>
            <div class="col-md-4 col-sm-4">

              <mat-form-field>
                <mat-label>Payment Mode</mat-label>
                <mat-select formControlName="paymentmode">
                  <mat-option value="">-Select one-</mat-option>
                  <mat-option value="Cash">Cash</mat-option>
                  <mat-option value="CreditCard">Credit Card</mat-option>
                  <mat-option value="DebitCard">Debit Card</mat-option>
                  <mat-option value="Paytm" disabled>Paytm</mat-option>
                  <mat-option value="UPI">UPI</mat-option>
                  <mat-option value="Other">Other</mat-option>
                </mat-select>

              </mat-form-field>
              <mat-error *ngIf="addrFrom.get('paymentmode').hasError('required') && addrFrom.get('paymentmode').pristine">
                Fill Payment mode
      </mat-error>
            </div>

          </div>

          <div class="row">
            <div class="col-md-4 col-sm-4">
              <mat-form-field>
                <input matInput type="text"  placeholder="Address 1" formControlName="address1">
              </mat-form-field>


            </div>
            <div class="col-md-4 col-sm-4">

              <mat-form-field>
                <input matInput type="text" placeholder="Address 2" formControlName="address2">
              </mat-form-field>
            </div>
            <div class="col-md-4 col-sm-4">
              <mat-form-field>
              <input matInput type="text" placeholder="Address 3" formControlName="address3">

              </mat-form-field>
            </div>

          </div>

          <div class="row">
            <div class="col-md-8 col-sm-8">

              <mat-form-field appearance="fill">
                <mat-label>Choose a date</mat-label>
                <input matInput [matDatepicker]="picker" [min]="todayDate" formControlName="appointment" (dateChange)="valueChanged()">
                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                <mat-datepicker #picker></mat-datepicker>
              </mat-form-field>
              <mat-error *ngIf="addrFrom.get('appointment').hasError('required') && addrFrom.get('appointment').pristine">
                Fill appointment date
      </mat-error>
            </div>
            <div class="col-md-4 col-sm-4">
              <!-- <mat-form-field>
              <input matInput type="text" placeholder="Experience">
            </mat-form-field> -->
              <input style="padding-top:15px;" matInput type="time" atp-time-picker formControlName="time">
              <mat-error *ngIf="addrFrom.get('time').hasError('required') && addrFrom.get('appointment').pristine">
                Fill appointment date
      </mat-error>
            </div>



          </div>
          <div class="d-flex align-content-between flex-wrap">

            <!-- <button type="submit" [disabled]="addrFrom.invalid">submit</button> -->

            <button  class="btn btn-success" (click)="CreateTheAppointmnet()"><span
              class="glyphicon glyphicon-off"></span> Save</button>&nbsp;

            <button  class="btn btn-success" (click)="openDialog(addrFrom)"><span
                class="glyphicon glyphicon-off"></span> Show Bill and Print</button>

                <!-- <button  class="btn btn-success" (click)="btnClick()"><span
                  class="glyphicon glyphicon-off"></span> SaveArray</button>

                  <button (click)="findTimeConflict()"> find </button> -->

                  <!-- {{this.result|json}}

                  {{AppointmentDetail|json}}
                  -------------------------
                  {{result1|json}}
                  *************
                  {{result2|json}}
                  -------------------------{{result3|json}} -->

                  <!-- <ngx-barcode *ngFor="let bcValue of values"  [bc-value]="bcValue"
                    [bc-width]="1" [bc-height]="30">
                  </ngx-barcode> -->
                  <br/>
                  <!-- <qrcode [qrdata]="Qrvalues" [size]="256" [level]="'M'"></qrcode> -->

          </div>

         

          <!-- {{addrFrom.value|json}} -->

        </div>

        <div class="row">
          <div class="col-md-1"></div>
          <div class="col-md-10">
            <div class="panel mepanelo">
              <div class="row ">
                <div class="col-md-6 col-sm-6 big_list">
                  <ul class="list1">
                    <li *ngFor="let option of referralMaster" [value]="option.FirstName">
                      Dr. &nbsp;{{option.FirstName}}
                    </li>
                    

                  </ul>
                </div>
                

              </div>
            </div>
          </div>
          <div class="col-md-1"></div>
        </div>
      </div>
    </div>
    <div class="form-group col-md-7 col-sm-7 col-xs-7">
      <div class="panel panel-info">
        <div class="panel-heading">Availability for:&nbsp;Dr.&nbsp;{{this.addrFrom.get('doctorname').value}}</div>
        <div class="panel-body">
          <div class='app-calendar'>
            <!-- <full-calendar id="abc" [options]="calendarOptions" (dateClick)="dateClick($event)"></full-calendar> -->
          </div>
        </div>
      </div>

    </div>

  </div>

</form>

<div *ngIf="false">
{{addrFrom.value|json}}
<br/> new data
{{AppointmentDetail|json}}</div>

<!-- <div class="d-flex align-content-between flex-wrap">
  <div >
    <mat-form-field >
      <mat-label>Title</mat-label>
      <mat-select formControlName="Title">
        <mat-option>--</mat-option>
        <mat-option *ngFor="let city of cities" [value]="city">{{city}}</mat-option>
      </mat-select>
    </mat-form-field>
  </div>
  <div >

    <mat-form-field fxFlex>
      <input matInput type="text" formControlName="FirstName" placeholder="First Name">
      </mat-form-field>

  </div>


  <div >
    
        
  <mat-form-field fxFlex >
    <input matInput type="text" formControlName="LastName"  placeholder="Last Name"/>
    </mat-form-field>            
  </div>
  <div >
    <mat-radio-group fxFlex aria-label="* Sex" style="padding-top:10px;">
              
      <mat-radio-button  formControlName="Gender" value="1">Male</mat-radio-button>&nbsp;
      <mat-radio-button formControlName="Gender" value="2">Female</mat-radio-button>
    </mat-radio-group>

  
    
  </div>
  

  <div >
    <mat-form-field fxFlex>
      <span matPrefix style="background-color:rgb(241, 237, 237)">Year &nbsp;</span>
      <input type="number" matInput placeholder="Year" formControlName="Year">
    </mat-form-field>
  </div>
  <div >
    <mat-form-field >
      <span matPrefix style="background-color:rgb(241, 237, 237)">Month &nbsp;</span>
      <input type="number" matInput placeholder="Month" formControlName="Month">
    </mat-form-field>
     
  </div>
  <div>
    <mat-form-field >
      <span matPrefix style="background-color:rgb(241, 237, 237)">Days &nbsp;</span>
      <input type="number" matInput placeholder="Days" formControlName="Days">
    </mat-form-field>
  </div>

</div>

<div class="d-flex flex-nowrap">
  <div class="order-3 p-2">First flex item</div>
  <div class="order-2 p-2">Second flex item</div>
  <div class="order-1 p-2">Third flex item</div>
</div> -->


<!-- <full-calendar
  #fullcalendar
  [plugins]="calendarPlugins" 
  [editable]="true"
  [events]="calendarEvents"
  [defaultView]="'timeGridWeek'"
  [header]="{
    left: 'prev,next today',
    center: 'title',
    right: 'dayGridMonth,timeGridWeek,timeGridDay,listWeek'
    }"
  [height]="'auto'"
  [dir]="'ltr'"
  [events]="calendarEvents"
  (dateClick)="onDateClick($event);"
  (eventClick)="onEventClick($event)" 
  (eventRender)="onEventRender($event)">
</full-calendar> -->