


  <!-- {{asyncPipeUserDetails|json}} -->

    <div class="columns">
        <form   [formGroup]="UserRegform" class="columns" (ngSubmit)="submit()">
          <mat-tab-group>
            <mat-tab *ngIf="showSectionBasedOnRole">
                <ng-template mat-tab-label>
                    <mat-icon class="example-tab-icon" style="color:Green">family_restroom</mat-icon>
                    User Registartion
                </ng-template>
                <br />
                <div class="UpperDIV">
                    <div class="InnerDIV">
                      <div  >
                        <mat-card>
                            <mat-card-title><mat-icon style="color:green" *ngIf="enableDisableusrreg"> check_circle </mat-icon>
                              User Registration  <mat-icon style="color:red"  *ngIf="!enableDisableusrreg"> account_box </mat-icon></mat-card-title>
                        <mat-card-content>
                        
                          <div class="row">
                            <div class="col-md-3 col-sm-3 col-xs-3">
                              <mat-form-field>
                                <input type="text" matInput placeholder="Username" formControlName="UserName">
                              </mat-form-field>
                            
                            </div>
                            <div class="col-md-3 col-sm-3 col-xs-3">
                              <mat-form-field>
                                <input type="password" matInput placeholder="Password" formControlName="Password">
                              </mat-form-field>
                            </div>
                            <div class="col-md-3 col-sm-3 col-xs-3">
                              <mat-form-field>
                                <input type="text" matInput placeholder="mobile" formControlName="ContactNumber">
                              </mat-form-field>
                            </div>
                            <div class="col-md-3 col-sm-3 col-xs-3">
                              <mat-form-field>
                                <input type="text" matInput placeholder="email" formControlName="Email">
                              </mat-form-field>
                              </div>
                          </div>
                          <div class="first">
                            <mat-form-field fxFlex>
                              <input type="text" matInput placeholder="Secret Code" formControlName="SecretCode">
                            </mat-form-field> &nbsp;&nbsp;
                            <mat-form-field fxFlex>
                              <mat-label>Role</mat-label>
                              <mat-select  formControlName="Role" (selectionChange)="onBookChange($event)">
                                <mat-option>--</mat-option>
                                <mat-option *ngFor="let city of roles" [value]="city">{{city}}</mat-option>
                              </mat-select>
                            </mat-form-field>
                            &nbsp;&nbsp;
                      
                            <mat-form-field fxFlex>
                              <mat-label>Reporting Manager</mat-label>
                              <mat-select  formControlName="ReportingManagerName" >
                                <mat-option>--</mat-option>
                                <mat-option *ngFor="let city of managers" [value]="city">{{city}}</mat-option>
                              </mat-select>
                            </mat-form-field>
                            &nbsp;&nbsp;
                            <mat-form-field fxFlex>
                              <input type="text" matInput placeholder="Reporting Manager EmailID" formControlName="ReportingManagerRole">
                            </mat-form-field>
                            &nbsp;&nbsp;
                           
                            <input type="file" #file placeholder="Choose file" style="display:none;">
                            <button type="button" class="btn btn-sm btn-success mt-3 btn-block" (click)="file.click()" style="margin:0px;padding:0px;;width:70px;height:25px;">
                              &#10003;&nbsp;Attach File</button>
                              <mat-icon class="example-tab-icon" style="color:Green">attach_file</mat-icon>
                              &nbsp;&nbsp;
                            <!-- <button type="button" class="btn btn-success" (click)="file.click()">Upload File</button> -->
                      
                            
                            <!-- <button type="button" (click)="uploadFile(file.files)" >UploadNow</button> -->
                          
                            <span class="upload" *ngIf="progress > 0">
                              {{progress}}%
                            </span>
                            <span class="upload" *ngIf="message">
                              {{message}}
                            </span>
                            
                          </div>
                          <div class="row">
                            <div class="col-md-3 col-sm-3 col-xs-3">
                              <mat-form-field>
                                <mat-label>Location</mat-label>
                                <mat-select [(value)]="Location1" formControlName="Location">
                                  <mat-option>--</mat-option>
                                  <mat-option *ngFor="let city of Locations" [value]="city">{{city}}</mat-option>
                                </mat-select>
                              </mat-form-field>
                            </div>
                            <div class="col-md-3 col-sm-3 col-xs-3">
                              <mat-form-field>
                                <mat-label>Designation</mat-label>
                                <mat-select  formControlName="Designation">
                                  <mat-option>--</mat-option>
                                  <mat-option *ngFor="let city of designations" [value]="city">{{city}}</mat-option>
                                </mat-select>
                              </mat-form-field>
                            </div>
                            <div class="col-md-3 col-sm-3 col-xs-3">
                              <mat-form-field *ngIf="loadDoctor" >
                                <mat-label>Assign a Doctor</mat-label>
                                <mat-select formControlName="RefferDoctorName" >
                                  <mat-option>--</mat-option>
                                  <mat-option *ngFor="let option of referralMaster" [value]="option.FirstName">
                                    {{option.FirstName}}
                                  </mat-option>
                                </mat-select>
                              </mat-form-field>
                            </div>
                             <div class="col-md-2 col-sm-2 col-xs-2">
                              <button type="button" class="btn btn-sm btn-success mt-3 btn-block" (click)="uploadFile(file.files)"  style="margin:0px;padding:0px;;width:70px;height:25px;">
                                &#10003;&nbsp;{{ButtonText}}</button>
                              <!-- <button type="button" class="btn btn-sm btn-info text-white actionButton mr-2" style="border-radius: 20px;" matTooltip="Create/Edit User"
                                    (click)="CreateUser()">
                        <i class="fa fa-pencil"></i><span class="sm-1"></span>{{ButtonText}} (No Attachment)
                      </button> -->
                            </div>
                          </div>
                            
                          
                        
                          
                            
                          
                          
                           
                          
                          
                            
            
                           
                           
                          
                         
                          
                           
                          
                         
                        
                       
                        </mat-card-content>
                        </mat-card>
                    </div>
                </div>
                </div>
            </mat-tab>
            <mat-tab >
              <ng-template mat-tab-label>
                  <mat-icon class="example-tab-icon" style="color:Green">credit_card</mat-icon>
                  Change Password
              </ng-template>
              <br />
              <div class="UpperDIV">
                  <div class="InnerDIV">
                    <div >
                      <mat-card>
                          <mat-card-title>
                              <mat-icon style="color:green"  *ngIf="enableDisablepwd"> check_circle </mat-icon>
                              Change Password
                              
                            </mat-card-title>
                      <mat-card-content>
                        <div class="row">
                        <div class="col-md-4 col-sm-4 col-xs-4"> <mat-form-field>
                          <input type="text" matInput placeholder="Username" formControlName="UserName">
                        </mat-form-field></div>
                        <div class="col-md-4 col-sm-4 col-xs-4"><mat-form-field>
                          <input type="password" matInput placeholder="Old Password" formControlName="oldpassword">
                        </mat-form-field></div>
                        <div class="col-md-4 col-sm-4 col-xs-4"><mat-form-field>
                          <input type="password" matInput placeholder="New Password" formControlName="Password">
                        </mat-form-field></div>
                      </div>
                      <div class="row">
                        <div class="col-md-4 col-sm-4 col-xs-4"> <mat-form-field>
                          <input type="text" matInput placeholder="Secret Code" formControlName="SecretCode">
                        </mat-form-field></div>
                        <div class="col-md-4 col-sm-4 col-xs-4"></div>
                        <div class="col-md-4 col-sm-4 col-xs-4"> <div class="button">
                          <button type="button" class="btn btn-sm btn-info text-white actionButton mr-2" style="border-radius: 20px;" matTooltip="Create User"
                          (click)="ChangePassword()">
              <i class="fa fa-pencil"></i><span class="sm-1"></span> Change password
            </button></div>
                      </div>
                         
                        
                        
                      
                        
                          
                        
                        
                         
                        
                       
                     
                      
                        
                        
                      
                       
                         
                        </div>
                      
                     
                      </mat-card-content>
                      </mat-card>
                  </div>
              </div>
              </div>
          </mat-tab>

          <mat-tab *ngIf="showSectionBasedOnRole">
            <ng-template mat-tab-label>
                <mat-icon class="example-tab-icon" style="color:Green">done_all</mat-icon>
                Reset Account (Only By Super Admin)
            </ng-template>
            <br />
            <div class="UpperDIV">
                <div class="InnerDIV">
                  <div>
                    <mat-card>
                        <mat-card-title>
                            <mat-icon style="color:green"  *ngIf="enableDisablepwd"> check_circle </mat-icon>
                            Reset Account 
                            
                          </mat-card-title>
                    <mat-card-content>
                    
                      
                      <div class="row" style="margin: 10px 0px;" *ngIf="Role== 'Admin' ||Role== 'SuperAdmin'  ">
                        <div>
                          <mat-form-field>
                            <input type="text" matInput placeholder="Username" formControlName="UserName">
                          </mat-form-field>
                        </div>
                        <div>
                          <div class="button">
                              <button type="button" class="btn btn-sm btn-info text-white actionButton mr-2" style="border-radius: 20px;" matTooltip="Create User"
                              (click)="ResetPassword()">
                  <i class="fa fa-pencil"></i><span class="sm-1"></span> Reset Password
                </button>
                            </div>
                        </div>
        
                        
                    </div>
                      
                    
                      
                    
                   
                    </mat-card-content>
                    </mat-card>
                </div>
            </div>
            </div>
        </mat-tab>
        <mat-tab>
          <ng-template mat-tab-label>
            <mat-icon class="example-tab-icon" style="color:Green">done_all</mat-icon>
            Test
        </ng-template>
        <div class="content">
          <div fxLayout="row wrap" fxLayoutGap="10px">
            <div fxFlex>
              <mat-form-field >
                <input type="text" matInput placeholder="Username" formControlName="UserName">
              </mat-form-field >
              </div>
              <div fxFlex>
                <mat-form-field >
                  <input type="text" matInput placeholder="Username" formControlName="UserName">
                </mat-form-field >
                </div>
                <div fxFlex>
                  <mat-form-field >
                    <input type="text" matInput placeholder="Username" formControlName="UserName">
                  </mat-form-field >
                  </div>
                  <div fxFlex>
                    <mat-form-field >
                      <input type="text" matInput placeholder="Username" formControlName="UserName">
                    </mat-form-field >
                    </div>
                    <div fxFlex>
                      <mat-form-field >
                        <input type="text" matInput placeholder="Username" formControlName="UserName">
                      </mat-form-field >
                      </div>
                      <div fxFlex>
                        <mat-form-field >
                          <input type="text" matInput placeholder="Username" formControlName="UserName">
                        </mat-form-field >
                        </div>
                        <div fxFlex>
                          <mat-form-field >
                            <input type="text" matInput placeholder="Username7" formControlName="UserName">
                          </mat-form-field >
                          </div>
                          <div fxFlex>
                            <mat-form-field >
                              <input type="text" matInput placeholder="Username8" formControlName="UserName">
                            </mat-form-field >
                            </div>
                            <div fxFlex>
                              <mat-form-field >
                                <input type="text" matInput placeholder="Username8" formControlName="UserName">
                              </mat-form-field >
                              </div>


                              <div fxFlex>
                                
                                </div>
                                <div fxFlex>
                                
                                </div>
                                <div fxFlex>
                                
                                </div>
            
            </div>
           
          
          </div>

          <div class="content">
            
              <div fxFlex="25%" *ngFor="let num of [1,2,3,4,5,6,7]">
                <mat-card class="mat-elevation-z4" >
                  <mat-card-header>
                    <mat-card-title>Mountains {{num}}</mat-card-title>
                  </mat-card-header>
                  <img mat-card-image src="/assets/images/liku.PNG">
                  <mat-card-content>
                    <p>
                      The Himalayas is a mountain range in Asia.
                    </p>
                  </mat-card-content>
                  <mat-card-actions>
                    <button mat-button>LIKE</button>
                    <button mat-button>SHARE</button>
                  </mat-card-actions>
                </mat-card>
              </div>
            </div>
         
        </mat-tab>
          </mat-tab-group>

          <div class="main-content" >
           
            <div >
                <mat-form-field >
                  <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Filter" name="filterVal" [ngModelOptions]="{standalone: true}" [(ngModel)]="filterVal">
                </mat-form-field>
               
              </div>
              
              
              <div class="example-container mat-elevation-z8" >
            
                <!-- <button mat-button (click)=(click)="openDialog('Add',{},element.UnqueID,'Add')" mat-flat-button color="primary">Add Row</button> -->
              
                <mat-table id="ExampleMaterialTable" *ngIf="showSectionBasedOnRole" [dataSource]="dataSource" matSort #mytable class="my-table mat-elevation-z8" style="background-color:#FFFFFF;border-radius: 2em; border:2px #6D7B8D; padding:5px;width:99%;table-layout:fixed;">
            
                    <ng-container matColumnDef="slno">
                        <mat-header-cell *matHeaderCellDef class="d-none d-lg-flex"> Slno. </mat-header-cell>
                        <mat-cell *matCellDef="let item; let i = index" > <span class="mobile-label">SlNo:</span> {{ (paginatorRef.pageIndex * paginatorRef.pageSize) + (i + 1) }} </mat-cell>
                        
                       </ng-container>
            
                    
                       <!-- Id Column -->
                       <!-- <ng-container matColumnDef="UnqueID">
                        <mat-header-cell *matHeaderCellDef  mat-sort-header class="HeaderStyle"> Expense ID </mat-header-cell>
                        <mat-cell *matCellDef="let element" > 
                          <u style="cursor:pointer;color:blue" (click)="addEditExpenseItem(element)">
                          {{element.UnqueID}} </u></mat-cell>
                      </ng-container> -->
                      <ng-container matColumnDef="ProfilePicName">  
                        <mat-header-cell *matHeaderCellDef  mat-sort-header class="HeaderStyle"> 
                          
                          Profile Picture
                         </mat-header-cell>
                        <mat-cell *matCellDef="let element"> 
                         
                        <ng-container *ngIf="element.ProfilePicName?.toLowerCase().includes('.png')">
                          <img alt='NA' style='height:50px;width:80px;' src='{{apiServer}}/api/ImageUpload/files/{{element.ProfilePicName}}' />
                          &nbsp;
                          <a *ngIf="element.ProfilePicName !== null" href="{{apiServer}}/api/ImageUpload/files/{{element.ProfilePicName}}" download="imagename.png">
                            <mat-icon class="example-tab-icon" style="color:Green" >cloud_download</mat-icon>
                          </a>
                        </ng-container>  
                    <ng-template > 
                     
                    </ng-template>
                   
                    <ng-container *ngIf="!element.ProfilePicName?.toLowerCase().includes('.png')">
                      <a  *ngIf="!element.ProfilePicName?.toLowerCase().includes('.png')" >{{element.ProfilePicName}}</a>
                      &nbsp;
                      <a *ngIf="element.ProfilePicName !== null" href="{{apiServer}}/api/ImageUpload/files/{{element.ProfilePicName}}" download="imagename.png">
                        <mat-icon class="example-tab-icon" style="color:Green" >cloud_download</mat-icon>&nbsp;
                      </a>&nbsp;
                    </ng-container>
                          
                        </mat-cell>
                      </ng-container>

                      <ng-container matColumnDef="UserName">
                        <mat-header-cell *matHeaderCellDef> Name </mat-header-cell>
                        <mat-cell *matCellDef="let element" > 
                          <span class="mobile-label">Name:</span>
                          {{element.UserName}} 
                        </mat-cell>
                      </ng-container>
            
                      <!-- <ng-container matColumnDef="UserName">
                        <mat-header-cell *matHeaderCellDef  mat-sort-header class="HeaderStyle"> UserName </mat-header-cell>
                        <mat-cell *matCellDef="let element"> {{element.UserName}} </mat-cell>
                      </ng-container> -->

                      <ng-container matColumnDef="ReportingManagerName">
                        <mat-header-cell *matHeaderCellDef  mat-sort-header class="HeaderStyle"> Manager </mat-header-cell>
                        <mat-cell *matCellDef="let element"> <span class="mobile-label">Manager:</span>{{element.ReportingManagerName}} </mat-cell>
                      </ng-container>
                      
                      
                      <!-- Id Column -->
                    <ng-container matColumnDef="Date">
                        <mat-header-cell *matHeaderCellDef  mat-sort-header class="HeaderStyle"> Date </mat-header-cell>
                        <mat-cell *matCellDef="let element"> {{element.Date| date:'dd/MM/yyyy'}} </mat-cell>
                      </ng-container>
                    <!--- Note that these columns can be defined in any order.
                        The actual rendered columns are set as a property on the row definition" -->
                        
                          <!-- <ng-container matColumnDef="Notes">
                            <mat-header-cell *matHeaderCellDef  mat-sort-header class="HeaderStyle"> Notes </mat-header-cell>
                            <mat-cell *matCellDef="let element"> {{element.Notes}} </mat-cell>
                          </ng-container> -->
                          <ng-container matColumnDef="Password">
                            <mat-header-cell *matHeaderCellDef  mat-sort-header class="HeaderStyle"> Password </mat-header-cell>
                            <mat-cell *matCellDef="let element"
                              >
                              ********** </mat-cell>
                          </ng-container>
            
                          
                          <ng-container matColumnDef="Email">
                            <mat-header-cell *matHeaderCellDef  mat-sort-header class="HeaderStyle"> Email </mat-header-cell>
                            <mat-cell *matCellDef="let element"> <span class="mobile-label">Email:</span>{{element.Email}} </mat-cell>
                          </ng-container>



                          <ng-container matColumnDef="ContactNumber">
                            <mat-header-cell *matHeaderCellDef  mat-sort-header class="HeaderStyle"> ContactNumber </mat-header-cell>
                            <mat-cell *matCellDef="let element"> <span class="mobile-label">Contact:</span>{{element.ContactNumber}} </mat-cell>
                          </ng-container>
                          
                        
                          <ng-container matColumnDef="Role">
                            <mat-header-cell *matHeaderCellDef  mat-sort-header class="HeaderStyle"><span style="color:red;">*</span> Role </mat-header-cell>
                            <mat-cell *matCellDef="let element"
                              [ngStyle]="{'color': getColor(element.Role)}">
                              <span class="mobile-label">Role:</span> {{element.Role}} &nbsp;<span *ngIf=getGreenMark(element.Role)>&#10003;</span> <span *ngIf=getRedMark(element.Role)>&#10003;</span></mat-cell>
                          </ng-container>


                          
                          <ng-container matColumnDef="SecretCode">
                            <mat-header-cell *matHeaderCellDef  mat-sort-header class="HeaderStyle"> SecretCode </mat-header-cell>
                            <mat-cell *matCellDef="let element"> <span class="mobile-label">Code:</span>{{element.SecretCode}} </mat-cell>
                          </ng-container>
                          

                          <ng-container matColumnDef="Location">
                            <mat-header-cell *matHeaderCellDef  mat-sort-header class="HeaderStyle"> Location </mat-header-cell>
                            <mat-cell *matCellDef="let element"> <span class="mobile-label">Loc:</span>{{element.Location}} </mat-cell>
                          </ng-container>
                          
                          
            
                          
                
                    <!-- Action Column -->
                    <ng-container matColumnDef="action">
                      <mat-header-cell *matHeaderCellDef class="HeaderStyle">  
                        <button type="button"  (click)="exportArray()" class="btn btn-success"><span
                          class="glyphicon glyphicon-download"></span>
                        Export to EXCEL</button>
                      </mat-header-cell>
                      <mat-cell *matCellDef="let element" class="action-link">
            
                        <button class="btn btn-sm btn-info text-white actionButton mr-2" matTooltip="Edit Expense" 
                        (click)="editUserDetailsMat(element.UnqueID)">
                            <i class="fa fa-pencil"></i><span class="sm-1"></span> Edit
                </button>
                <button class="btn btn-sm btn-danger text-white actionButton mr-2" matTooltip="Delete Expense" 
                        (click)="DeleteItem(element.UnqueID)">
                            <i class="fa fa-trash"></i><span class="sm-1"></span> Del
                </button>
            
                        <!-- <button class="btn btn-sm btn-danger text-white actionButton mr-2" matTooltip="Delete Expense"                 
                        (click)="DeleteItem(element.UnqueID)">
                            <i class="fa fa-trash"></i> <span class="sm-1"></span> Delete
                        </button> -->
              
                         
                           
                        <!-- <a (click)="openDialog('Update',element)">Edit</a> | 
                        <a (click)="openDialog('Delete',element)">Delete</a>   -->
                      </mat-cell>
                    </ng-container>
                
                    <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
                    <mat-row *matRowDef="let row; columns: displayedColumns;" class="table-row"></mat-row>
                  </mat-table>
                  <mat-paginator #paginatorRef [pageSizeOptions]="[5, 10, 25, 100]" ></mat-paginator>
                  <!-- <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator> -->
              
              </div>
          </div>
       
    </form>
      </div>
    
    
    <!-- {{UserRegform.value|json}} -->
<!-- <div class="container1">
    <div class="itemC" id="itemID-1">first properties are very nice</div>
    <div class="itemC" id="itemID-2">second</div>
    <div class="itemC" id="itemID-3">third</div>
    <div class="itemC" id="itemID-4">fourth</div>
    <div class="itemC" id="itemID-5">fifth</div>
    <div class="itemC" id="itemID-6">six</div>
</div> -->

<!-- <div class="editControls">
	<div class='btn-group'>
		<button type="button" class="btn" (click)="setStyle('bold')">
      <b>B</b>
    </button>
		<button type="button" class="btn" (click)="setStyle('italic')">
      <em><b>I</b></em>
    </button>
		<button type="button" class="btn" (click)="setStyle('underline')">
      <u><b>U</b></u>
    </button>
		<button type="button" class="btn" (click)="setStyle('strikeThrough')">
      <s>abc</s>
    </button>
    <button type="button" class="btn" (click)="setStyle('justifyLeft')">
      <i class='icon-align-left'></i>
    </button>
	</div>
	<div class='btn-group'>
		<button type="button" class="btn" (click)="setStyle('justifyLeft')">
      <i class='icon-align-left'></i>
    </button>
		<button type="button" class="btn" (click)="setStyle('justifyCenter')">
      <i class='icon-align-center'></i>
    </button>
		<button type="button" class="btn" (click)="setStyle('justifyRight')">
      <i class='icon-align-right'></i>
    </button>
		<button type="button" class="btn" (click)="setStyle('justifyFull')">
      <i class='icon-align-justify'></i>
    </button>
	</div>
	<div class='btn-group'>
		<button type="button" class="btn" (click)="setStyle('indent')">
      <i class='icon-indent-right'></i>
    </button>
		<button type="button" class="btn" (click)="setStyle('outdent')">
      <i class='icon-indent-left'></i>
    </button>
	</div>
</div> -->

<!-- <div #editor class="editor" [(innerHtml)]="description" (input)="onChange()" contenteditable></div> -->